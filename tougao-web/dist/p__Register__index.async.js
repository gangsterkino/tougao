"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[845],{60843:function(w,h,s){s.r(h);var C=s(15009),v=s.n(C),P=s(99289),D=s.n(P),b=s(5574),r=s.n(b),u=s(67294),f=s(80854),_=s(68872),e=s(85893),O=function(){var M=(0,u.useState)(""),E=r()(M,2),i=E[0],B=E[1],S=(0,u.useState)(""),c=r()(S,2),o=c[0],U=c[1],R=(0,u.useState)(""),j=r()(R,2),l=j[0],T=j[1],A=(0,u.useState)(""),x=r()(A,2),d=x[0],I=x[1],K=(0,u.useState)(""),y=r()(K,2),m=y[0],L=y[1],W=function(){var a=D()(v()().mark(function n(){var p,g;return v()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(!i||!o||!l||!d||!m)){t.next=3;break}return _.ZP.error("\u8BF7\u586B\u5199\u6240\u6709\u5FC5\u586B\u9879"),t.abrupt("return");case 3:return t.prev=3,t.next=6,fetch("http://127.0.0.1:5000/api/user/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:i,password:m,role:"member",gender:o,education:l,major:d})});case 6:return p=t.sent,t.next=9,p.json();case 9:g=t.sent,p.ok?(_.ZP.success(g.message),f.history.push("/login")):_.ZP.error(g.error),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),_.ZP.error("\u6CE8\u518C\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5");case 16:case"end":return t.stop()}},n,null,[[3,13]])}));return function(){return a.apply(this,arguments)}}();return(0,e.jsxs)("div",{style:{padding:"50px"},children:[(0,e.jsx)("h2",{children:"\u6CE8\u518C"}),(0,e.jsx)("div",{style:{marginBottom:"20px"},children:(0,e.jsx)("input",{type:"text",value:i,onChange:function(n){return B(n.target.value)},placeholder:"\u7528\u6237\u540D",style:{width:"100%",padding:"8px"}})}),(0,e.jsx)("div",{style:{marginBottom:"20px"},children:(0,e.jsxs)("select",{value:o,onChange:function(n){return U(n.target.value)},style:{width:"100%",padding:"8px"},children:[(0,e.jsx)("option",{value:"",children:"\u6027\u522B"}),(0,e.jsx)("option",{value:"\u7537",children:"\u7537"}),(0,e.jsx)("option",{value:"\u5973",children:"\u5973"}),(0,e.jsx)("option",{value:"\u5176\u4ED6",children:"\u5176\u4ED6"})]})}),(0,e.jsx)("div",{style:{marginBottom:"20px"},children:(0,e.jsx)("input",{type:"text",value:l,onChange:function(n){return T(n.target.value)},placeholder:"\u5B66\u5386",style:{width:"100%",padding:"8px"}})}),(0,e.jsx)("div",{style:{marginBottom:"20px"},children:(0,e.jsx)("input",{type:"text",value:d,onChange:function(n){return I(n.target.value)},placeholder:"\u4E13\u4E1A",style:{width:"100%",padding:"8px"}})}),(0,e.jsx)("div",{style:{marginBottom:"20px"},children:(0,e.jsx)("input",{type:"password",value:m,onChange:function(n){return L(n.target.value)},placeholder:"\u5BC6\u7801",style:{width:"100%",padding:"8px"}})}),(0,e.jsx)("button",{onClick:W,style:{padding:"10px 20px",marginBottom:"10px"},children:"\u6CE8\u518C"})]})};h.default=O}}]);
