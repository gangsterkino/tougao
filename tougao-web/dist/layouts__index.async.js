"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[717],{52756:function(J,c,n){n.r(c);var h=n(5574),u=n.n(h),l=n(67294),a=n(26058),i=n(50136),C=n(88492),j=n(8250),t=n(80854),_=n(15360),d=n(87547),f=n(13520),M=n(86548),D=n(42207),O=n(92443),P=n(19944),A=n(84477),e=n(85893),L=a.Z.Sider,y=a.Z.Content,B={member:"\u4F1A\u5458",editor:"\u7F16\u8F91",admin:"\u7BA1\u7406\u5458"},I=function(){var U=(0,l.useState)(!1),E=u()(U,2),r=E[0],b=E[1],p=(0,l.useState)("1"),x=u()(p,2),Z=x[0],k=x[1],T=(0,l.useState)([]),g=u()(T,2),K=g[0],R=g[1],m=(0,t.useModel)("global")||{currentUser:{role:"non-member",name:"Guest"},logout:function(){}},o=m.currentUser,W=m.logout,S=(0,t.useNavigate)(),F=(0,t.useLocation)(),z=F.pathname==="/login",H=B[o.role]||"\u975E\u4F1A\u5458";(0,l.useEffect)(function(){if(o){var s=[{key:"1",icon:(0,e.jsx)(_.Z,{}),label:(0,e.jsx)(t.Link,{to:"/about",children:"\u520A\u7269\u4ECB\u7ECD"})},{key:"2",icon:(0,e.jsx)(_.Z,{}),label:(0,e.jsx)(t.Link,{to:"/guidelines",children:"\u6295\u7A3F\u987B\u77E5"})}];switch(o.role){case"member":s.push({key:"3",icon:(0,e.jsx)(d.Z,{}),label:(0,e.jsx)(t.Link,{to:"/member/profile",children:"\u4E2A\u4EBA\u4E2D\u5FC3"})},{key:"4",icon:(0,e.jsx)(_.Z,{}),label:(0,e.jsx)(t.Link,{to:"/member/post-paper",children:"\u5728\u7EBF\u6295\u7A3F"})},{key:"5",icon:(0,e.jsx)(f.Z,{}),label:(0,e.jsx)(t.Link,{to:"/member/submissions",children:"\u67E5\u8BE2\u7A3F\u4EF6"})});break;case"editor":s.push({key:"6",icon:(0,e.jsx)(d.Z,{}),label:(0,e.jsx)(t.Link,{to:"/editor/profile",children:"\u4E2A\u4EBA\u4E2D\u5FC3"})},{key:"7",icon:(0,e.jsx)(M.Z,{}),label:(0,e.jsx)(t.Link,{to:"/editor/review-paper",children:"\u5BA1\u7A3F"})});break;case"admin":s.push({key:"8",icon:(0,e.jsx)(D.Z,{}),label:(0,e.jsx)(t.Link,{to:"/admin/manage-users",children:"\u7528\u6237\u7BA1\u7406"})});break;default:break}R(s)}},[o]);var G=function(Y){return k(Y.key)},v=function(){return b(!r)},N=function(){W(),S("/login")},X=(0,e.jsx)(i.Z,{children:(0,e.jsxs)(i.Z.Item,{onClick:N,children:[(0,e.jsx)(O.Z,{})," \u9000\u51FA\u767B\u5F55"]},"logout")});return z?(0,e.jsx)(t.Outlet,{}):(0,e.jsxs)(a.Z,{style:{minHeight:"100vh",backgroundColor:"#f0f0f0"},children:[(0,e.jsxs)(L,{width:300,collapsed:r,style:{backgroundColor:"#fff",position:"fixed",height:"100vh",zIndex:1},children:[(0,e.jsx)("div",{style:{padding:"20px",fontSize:"18px",color:"#000",textAlign:"center"},children:o?"".concat(o.name," (").concat(H,")"):""}),o&&(0,e.jsx)(C.Z,{overlay:X,trigger:["click"],children:(0,e.jsx)("div",{style:{padding:"10px",textAlign:"center"},children:(0,e.jsx)(j.C,{size:40,icon:(0,e.jsx)(d.Z,{})})})}),(0,e.jsx)(i.Z,{onClick:G,selectedKeys:[Z],mode:"inline",style:{border:"none"},children:K.map(function(s){return(0,e.jsx)(i.Z.Item,{icon:s.icon,children:s.label},s.key)})}),(0,e.jsx)("div",{style:{position:"absolute",bottom:"40px",left:"50%",transform:"translateX(-50%)"},children:r?(0,e.jsx)(P.Z,{onClick:v,style:{cursor:"pointer",fontSize:"18px"}}):(0,e.jsx)(A.Z,{onClick:v,style:{cursor:"pointer",fontSize:"18px"}})})]}),(0,e.jsx)(a.Z,{style:{marginLeft:r?80:300},children:(0,e.jsx)(y,{style:{padding:"20px",overflowY:"auto",backgroundColor:"#f0f0f0",color:"#000",minHeight:"100vh"},children:(0,e.jsx)(t.Outlet,{})})})]})};c.default=I}}]);
